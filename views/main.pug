html(xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en")
  head
    title= title
    link(rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css" type="text/css")
    link(rel="stylesheet" href="/highcharts/css/highcharts-dark-unica.css" type="text/css")
    link(rel="stylesheet" href="/stylesheets/style.css" type="text/css")
  body(style="font-size:0.8em;background-color: #333; color: #D1FF00;")
    div(class="row")
      div(class="col-sm-3")
        div(style="text-align:center;")
          img(src="/ctt_logo_300DPI.png" style="height:100px;")
      div(class="col-sm-9")
        h1(style="") CTT Sensor Station Overview
    div(class="row")
      div(class="col-lg-8")
        div(class="row")
          h2 Nodes
          table(class="table table-bordered table-sm table-dark" id="node-history")
            tr(class="table-primary", style="color:#111")
              th Node ID
              th Last Heard
              th RSSI
              th Battery
              th Firmware
              th Latitude
              th Longitude 
              th GPS Time

        div(class="row")
          div(style="overflow-y: scroll; height:400px;")
            div
              h2 Live Tags
              table(class="table table-bordered table-sm table-dark" id="tags")
                tr(class="table-primary", style="color:#111") 
                  th Tag ID
                  th Count
                  th Alias
                  th 
                  th 
        div(style="min-height:250px;", id="tag_hist")

        h2 Sensor Station Log
        div(style="overflow-y: scroll; height:400px;")
          table(class="table table-bordered table-sm table-dark" id="raw_log")
            tr(class="table-primary", style="color:#111") 
              th Time
              th Message

      div(class="col-lg-4")
        h2 Station
        table(class="table table-bordered table-sm table-dark")
          tr
            th ID
            td
              span(id="station-id")
          tr
            th Station Image
            td
              span(id="station-image")
          tr
            th Software Start
            td
              span(id="software-start")
          tr
            th Compute Module Serial
            td
              span(id="serial")
          tr
            th Module Hardware
            td
              span(id="hardware")
          tr
            th Module Revision
            td
              span(id="revision")
          tr
            th Boot Count
            td
              span(id="bootcount")
          tr
            th Total Memory
            td
              span(id="memory")
          tr
            th Last Boot
            td
              span(id="uptime")
        div(class="row")
          div(class="col-sm")
            h3 Memory Usage
            div(id="mem-chart", style="height:150px;")
          div(class="col-sm")
            h3 CPU Usage
            div(id="cpu-chart", style="height:150px;")

        h2(style="text-align:center;") Time Sync Stats
        pre(style="min-height:100px;font-family:monospace; color:#EEE;font-size:1.2em;" id="chrony")

        h2 GPS
        table(class="table table-bordered table-sm table-dark")
          tr
            th Time
            td
              span(id="time")
          tr
            th Number of Satellites
            td
              span(id="nsats")
          tr
            th Latitude
            td
              span(id="lat")
          tr
            th Longitude
            td
              span(id="lng")
          tr
            th Altitude
            td
              span(id="alt")
        h2 Server Utilitites
        table(class="table table-bordered table-sm table-dark")
          tr
            th Checkin
            td
              button(class="btn btn-sm btn-primary", id="server-checkin") Server Checkin
          tr
            th Upload
            td
              button(class="btn btn-sm btn-primary", id="upload-files") Upload Data

          tr
            th Station Software Update
            td
              a(href="/update-station", class="btn btn-sm btn-primary") Station Update

    div(class="row")
      div(class="col-lg")
        h2(style="text-align:center;") Radio 1
        h5 
          span(style="padding-right:5px;") Current Mode:
          span(id="config_radio_1")
        table(class="table table-sm table-bordered table-dark", id="radio_stats_1")
          tr
            th Beeps
            td
              span(id="beep_count_1")
          tr
            th Nodes
            td
              span(id="node_beep_count_1")
          tr
            th Telemetry
            td
              span(id="telemetry_beep_count_1")


        div(style="overflow: scroll; height:400px;")
          table(class="table table-sm table-bordered table-dark radio", id="radio_1")
            tr(class="table-primary", style="color: #111;")
              th Time
              th Tag ID
              th RSSI
              th Node
        div(class="row")
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_node_radio" value="1") Node
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_tag_radio" value="1") Tag
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_ook_radio" value="1") OOK

      div(class="col-lg")
        h2(style="text-align:center;")  Radio 2
        h5 
          span(style="padding-right:5px;") Current Mode:
          span(id="config_radio_2")
        table(class="table table-sm table-bordered table-dark", id="radio_stats_2")
          tr
            th Beeps
            td
              span(id="beep_count_2")
          tr
            th Nodes
            td
              span(id="node_beep_count_2")
          tr
            th Telemetry
            td
              span(id="telemetry_beep_count_2")


        div(style="overflow: scroll; height:400px;")
          table(class="table table-sm table-bordered table-dark radio", id="radio_2")
            tr(class="table-primary", style="color: #111;")
              th Time
              th Tag ID
              th RSSI
              th Node
        div(class="row")
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_node_radio" value="2") Node
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_tag_radio" value="2") Tag
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_ook_radio" value="2") OOK

      div(class="col-lg")
        h2(style="text-align:center;")  Radio 3
        h5 
          span(style="padding-right:5px;") Current Mode:
          span(id="config_radio_3")
        table(class="table table-sm table-bordered table-dark", id="radio_stats_3")
          tr
            th Beeps
            td
              span(id="beep_count_3")
          tr
            th Nodes
            td
              span(id="node_beep_count_3")
          tr
            th Telemetry
            td
              span(id="telemetry_beep_count_3")


        div(style="overflow: scroll; height:400px;")
          table(class="table table-sm table-bordered table-dark radio", id="radio_3")
            tr(class="table-primary", style="color: #111;")
              th Time
              th Tag ID
              th RSSI
              th Node
        div(class="row")
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_node_radio" value="3") Node
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_tag_radio" value="3") Tag
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_ook_radio" value="3") OOK

      div(class="col-lg")
        h2(style="text-align:center;")  Radio 4
        h5 
          span(style="padding-right:5px;") Current Mode:
          span(id="config_radio_4")
        table(class="table table-sm table-bordered table-dark", id="radio_stats_4")
          tr
            th Beeps
            td
              span(id="beep_count_4")
          tr
            th Nodes
            td
              span(id="node_beep_count_4")
          tr
            th Telemetry
            td
              span(id="telemetry_beep_count_4")


        div(style="overflow: scroll; height:400px;")
          table(class="table table-sm table-bordered table-dark radio", id="radio_4")
            tr(class="table-primary", style="color: #111;")
              th Time
              th Tag ID
              th RSSI
              th Node
        div(class="row")
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_node_radio" value="4") Node
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_tag_radio" value="4") Tag
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_ook_radio" value="4") OOK

      div(class="col-lg")
        h2(style="text-align:center;")  Radio 5
        h5 
          span(style="padding-right:5px;") Current Mode:
          span(id="config_radio_5")
        table(class="table table-sm table-bordered table-dark", id="radio_stats_5")
          tr
            th Beeps
            td
              span(id="beep_count_5")
          tr
            th Nodes
            td
              span(id="node_beep_count_5")
          tr
            th Telemetry
            td
              span(id="telemetry_beep_count_5")


        div(style="overflow: scroll; height:400px;")
          table(class="table table-sm table-bordered table-dark radio", id="radio_5")
            tr(class="table-primary", style="color: #111;")
              th Time
              th Tag ID
              th RSSI
              th Node
        div(class="row")
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_node_radio" value="5") Node
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_tag_radio" value="5") Tag
          div(class="col-sm")
            button(class="btn btn-block btn-sm btn-danger" name="toggle_ook_radio" value="5") OOK

    div(style="height:5px;")
    button(class="btn btn-block btn-primary", id="save-radios") Save Radio Configuration

    button(class="btn btn-block btn-primary", id="clear") Clear Session Data
    hr
    h2(style="text-align:center") Data Management
    div(class="row")
      div(class="col-sm")
        div(style="border: 1px solid white;padding:5px;")
          h3(style="text-align:center;") Station Log
          div(class="row")
            div(class="col-sm")
              button(class="btn btn-block btn-danger", id="clear-log") Clear Log File
            div(class="col-sm")
              a(class="btn btn-block btn-primary", href="/ctt-logfile") Download Log File

      div(class="col-sm")
        div(style="border: 1px solid white;padding:5px;")
          h3(style="text-align:center;") CTT Tag Data
          div(style="text-align:center;")
            a(class="btn btn-primary", href="/ctt-data-current") Download Current Data
            div(style="height:5px;")
          div(class="row")
            div(class="col-sm")
              a(class="btn btn-block btn-primary", href="/ctt-data-rotated") Download Data Not Uploaded
            div(class="col-sm")
              a(class="btn btn-block btn-primary", href="/ctt-data-uploaded") Download Data Already Uploaded
          div(style="height:5px;")
          div(class="row")
            div(class="col-sm")
              button(class="btn btn-danger btn-block" name="delete-data" value="ctt-rotated") Delete Data Not Uploaded
            div(class="col-sm")
              button(class="btn btn-danger btn-block" name="delete-data" value="ctt-uploaded") Delete Data Already Uploaded

      div(class="col-sm")
        div(style="border: 1px solid white;padding:5px;")
          h3(style="text-align:center;") Nanotag Data
          div(class="row")
            div(class="col-sm")
              a(class="btn btn-block btn-primary", href="/sg-data-rotated") Download Data Not Uploaded
            div(class="col-sm")
              a(class="btn btn-block btn-primary", href="/sg-data-uploaded") Download Data Already Uploaded
          div(style="height:5px;")
          div(class="row")
            div(class="col-sm")
              button(class="btn btn-danger btn-block" name="delete-data" value="sg-rotated") Delete Data Not Uploaded
            div(class="col-sm")
              button(class="btn btn-danger btn-block" name="delete-data" value="sg-uploaded") Delete Data Already Uploaded

    hr
    h2(style="text-align:center;") Nanotag Data
    div(style="text-align:center;")
      a(href='#', target="sg", id="sg_link", class="btn btn-primary" style="font-size:2em;") Sensorgnome Interface 
    div(class="row")
      div(class="col-sm")
        div(style="text-align:center;")
          h3 Sensorgnome Deployment File
          textarea(cols="90", rows="50", id="sg-deployment")
    div(style="height:10px;")
    div(class="row")
      div(class="col-sm")
        div(style="text-align:center;")
          button(class="btn btn-danger" id="save-deployment") Save Changes

    div(style="min-height:15px")
    div(class="row")
      button(class="btn btn-danger" id="reboot") Reboot

    script(src="/javascripts/jquery-3.4.1.min.js")
    script(src="/javascripts/moment-with-locales.min.js")
    script(src="/bootstrap/dist/js/bootstrap.min.js")
    script(src="/highcharts/highcharts.js")
    script(src="/javascripts/interface.js")
